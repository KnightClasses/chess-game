<h1><%= @game.name %></h1>

<div class='board'>
  <%# establishes the vertical dimension of the board %>
  <% 8.downto(1) do |y| %>
    <div class='row'>
    <%# establishes the horizontal dimension of the board %>
    <% 1.upto(8) do |x| %>
      <%# on odd numbered rows, alternate between white and black, starting with white %>
      <% if y % 2 == 1 %>
        <% if x % 2 == 0 %>
          <% req_x = x %>
          <% req_y = y %>
          <% piece = @game.pieces.find_by(x: req_x, y: req_y) %>
          <% if piece.present? %>
            <%= link_to game_piece_path(@game, piece) do %>
              <div class='white' id=<%= "#{x}-#{y}" %>></div>
            <% end %>
          <% else %>
            <div class='white' id=<%= "#{x}-#{y}" %>></div>
          <% end %>
        <% else %>
          <div class='black' id=<%= "#{x}-#{y}" %>></div>
        <% end %>
      <% else %>
        <%# on even numbered rows, alternate between white and black, starting with black %>
        <% if x % 2 == 0 %>
          <% req_x = x %>
          <% req_y = y %>
          <% piece = @game.pieces.find_by(x: req_x, y: req_y) %>
          <% if piece.present? %>
            <%= link_to game_piece_path(@game, piece) do %>
              <div class='black' id=<%= "#{x}-#{y}" %>></div>
            <% end %>
          <% else %>
            <div class='black' id=<%= "#{x}-#{y}" %>></div>
          <% end %>
        <% else %>
          <div class='white' id=<%= "#{x}-#{y}" %>></div>
        <% end %>
      <% end %>
    <% end %>
    </div>
  <% end %>
</div>